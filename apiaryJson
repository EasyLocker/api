{"openapi":"3.0.0","info":{"title":"EasyLocker API","version":"1.0.0"},"paths":{"/api/v1/authenticate":{"post":{"responses":{"200":{"description":"User correctly authenticated","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Id dello user","example":"6290daa478b876fa28581b97"},"token":{"type":"string","description":"Token per garantire l'accesso alle risorse","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"},"email":{"type":"email","description":"Email dell'utente appena registrato","example":"Mariorossi@example.it"},"role":{"type":"string","description":"Ruolo dell'utente, può essere 'Admin' o 'User'","example":"User"},"name":{"type":"string","description":"Nome dell'utente appena registrato","example":"Mario"},"surname":{"type":"string","description":"Cognome dell'utente appena registrato","example":"Rossi"}}}}}},"400":{"$ref":"#/components/responses/code400"},"500":{"$ref":"#/components/responses/code500"}},"tags":["Users"],"summary":"Authenticate user","requestBody":{"require":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","example":"email@example.com"},"password":{"type":"string","example":"password"}}}}}}}},"/api/v1/lockers":{"post":{"responses":{"200":{"$ref":"#/components/responses/code200"},"400":{"$ref":"#/components/responses/code400"},"500":{"$ref":"#/components/responses/code500"}},"tags":["Lockers"],"summary":"Register a new locker","requestBody":{"require":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Locker1"},"latitude":{"type":"number","example":"41° 53' 24″ E 12° 29' 32"},"longitude":{"type":"number","example":"41° 53' 24″ E 12° 29' 32"},"width":{"type":"number","example":60},"height":{"type":"number","example":60},"depth":{"type":"number","example":60}}}}}}},"get":{"responses":{"200":{"$ref":"#/components/responses/code200"},"400":{"$ref":"#/components/responses/code400"},"500":{"$ref":"#/components/responses/code500"}},"tags":["Lockers"],"summary":"Search all lockers, including the booked ones. This is useful for lockers modification by admins","parameters":[{"in":"query","name":"name","schema":{"type":"string"},"required":false,"description":"Name of the locker the user is looking for"}]},"put":{"responses":{"200":{"$ref":"#/components/responses/code200"},"400":{"$ref":"#/components/responses/code400"},"500":{"$ref":"#/components/responses/code500"}},"tags":["Lockers"],"summary":"Modify a locker","requestBody":{"require":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Locker1"},"latitude":{"type":"number","example":"41° 53' 24″ E 12° 29' 32"},"longitude":{"type":"number","example":"41° 53' 24″ E 12° 29' 32"},"width":{"type":"number","example":60},"height":{"type":"number","example":60},"depth":{"type":"number","example":60}}}}}}},"delete":{"responses":{"200":{"description":"Locker deleted"}},"tags":["Lockers"],"summary":"Delete a locker","parameters":[{"in":"query","name":"id","schema":{"type":"string"},"required":true,"description":"Id of the locker which has to be deleted"}]}},"/api/v1/lockers/available":{"get":{"responses":{"200":{"description":"OK"}},"tags":["Lockers"],"summary":"Search an available locker (only available lockers are returned, booked ones are skipped).","parameters":[{"in":"query","name":"name","schema":{"type":"string"},"required":false,"description":"Name of the locker the user is looking for"}]}},"/api/v1/lockers/booked":{"get":{"responses":{"200":{"description":"List of booked lockers","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Id of the locker in the database","example":"6290daa478b876fa28581b97"},"name":{"type":"string","description":"Name of the locker inserted on registration","example":"Locker1"},"latitude":{"type":"number","description":"Latitude of the locker (for further api integration)","example":"41° 53' 24″ E 12° 29' 32″"},"longitude":{"type":"number","description":"Longitude of the locker (for further api integration)","example":"41° 53' 24″ E 12° 29' 32″"},"width":{"type":"number","description":"Width of the locker (centimeters)","example":60},"height":{"type":"number","description":"Height of the locker (centimeters)","example":60},"depth":{"type":"number","description":"Depth of the locker (centimeters)","example":60},"bookedAt":{"type":"string","description":"Paragraph used to show when the locker has been booked","example":"Prenotato il 2022-06-06 alle ore 17:54"}}}}}},"400":{"$ref":"#/components/responses/code400"},"500":{"$ref":"#/components/responses/code500"}},"tags":["Lockers"],"summary":"Get all locker booked by logged user."}},"/api/v1/lockers/{lockerId}":{"get":{"responses":{"200":{"$ref":"#/components/responses/code200"},"400":{"$ref":"#/components/responses/code400"},"500":{"$ref":"#/components/responses/code500"}},"tags":["Lockers"],"summary":"Search a locker by its id"}},"/api/v1/lockers/book":{"patch":{"responses":{"200":{"description":"Locker correctly booked"}},"tags":["Lockers"],"summary":"Book a locker","requestBody":{"require":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Id of the locker in the database","example":"6290daa478b876fa28581b97"}}}}}}}},"/api/v1/lockers/cancel":{"patch":{"responses":{"200":{"description":"Locker booking correctly cancelled"}},"tags":["Lockers"],"summary":"Cancel the booking of the locker","requestBody":{"require":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Id of the locker in the database","example":"6290daa478b876fa28581b97"}}}}}}}},"/api/v1/users/register":{"post":{"responses":{"200":{"description":"User correctly authenticated","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Id of the user in the database","example":"6290daa478b876fa28581b97"},"token":{"type":"string","description":"Token which grants the access to the resources","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"},"email":{"type":"email","description":"Email of the user just registered","example":"Mariorossi@example.it"},"role":{"type":"string","description":"Role of the user just registered, it will tipically be 'User'","example":"User"},"name":{"type":"string","description":"Name of the user just registered","example":"Mario"},"surname":{"type":"string","description":"Surname of the user just registered","example":"Rossi"}}}}}},"400":{"$ref":"#/components/responses/code400"},"500":{"$ref":"#/components/responses/code500"}},"tags":["Users"],"summary":"Register a new user","requestBody":{"require":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Mario"},"surname":{"type":"string","example":"Rossi"},"email":{"type":"string","example":"Mariorossi@example.it"},"password":{"type":"string","example":"Password"}}}}}}}}},"components":{"responses":{"code400":{"description":"Something's missing in the request","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Error message","example":"Missing name."}}}}}},"code500":{"description":"Something went wrong (e.g. connections or similiar)","content":{"application/json":{"schema":{"responses":"code500","type":"object","properties":{"message":{"type":"string","description":"Error message","example":"Unexpected error. We are working to solve the issue. Thanks for your patience"}}}}}},"code200":{"description":"Everything went 'OK'","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Id of the locker in the database","example":"6290daa478b876fa28581b97"},"name":{"type":"string","description":"Name of the locker inserted on registration","example":"Mario"},"latitude":{"type":"number","description":"Latitude of the locker (for further api integration)","example":"41° 53' 24″ E 12° 29' 32″"},"longitude":{"type":"number","description":"Longitude of the locker (for further api integration)","example":"41° 53' 24″ E 12° 29' 32″"},"width":{"type":"number","description":"Width of the locker (centimeters)","example":60},"height":{"type":"number","description":"Height of the locker (centimeters)","example":60},"depth":{"type":"number","description":"Depth of the locker (centimeters)","example":60}}}}}}}},"tags":[]}